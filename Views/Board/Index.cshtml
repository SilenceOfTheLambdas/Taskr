@model Board

<!DOCTYPE html>

<html lang="en-GB">

<head>
    <title>Taskr - @Model.Title</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
</head>

<body>
<div class="container-fluid board-container">
    <partial name="_ViewBoard" model="Model"/>
</div>
<!-- Tags Panel -->
<div class="tags-panel card shadow-sm position-absolute start-50 translate-middle" id="tags-panel" hidden="hidden">
    <div class="card-header">
        <h5 class="card-title">Board tags</h5>
    </div>
    <div class="card-body d-grid gap-2">
        @foreach (var tag in Model.Tags)
        {
            <div class="btn-group" role="group" aria-label="Edit Tag Group">
                <button class="btn btn-light btn-sm" style="background-color: @tag.TagColourHexadecimal">@tag.Name</button>
                <button class="edit-tag-btn btn-outline btn-sm d-flex align-items-center gap-2" type="button">
                    <i class="bi bi-pencil"></i>
                </button>
            </div>
        }
        <hr/>
        <button class="btn btn-outline-success btn-sm" id="new-tag-button">Create New Tag</button>
        <form id="add-tag-form" class="form-text d-none" name="tagName" data-board-id="@Model.Id">
            <input type="text" name="tagName" id="tag-name-input" class="form-control form-control-sm"
                   placeholder="Tag Name" autofocus>
            <p class="small text-muted">Press Enter to save or Escape to cancel.</p>
        </form>
    </div>
</div>
<!-- Settings Panel -->
<div id="board-settings-panel" class="position-fixed position-absolute bottom-0 start-50 translate-middle-x align-items-center">
    <!-- Expanded card -->
    <div id="settings-card" class="card shadow-sm" style="width: fit-content;">
        <div class="card-body p-2 d-flex flex-row gap-2">
            
            <button class="btn btn-outline-success btn-sm d-flex align-items-center gap-2"
                    type="button" id="btn-open-tag-panel">
                <i class="bi bi-tag">Edit Tags</i>
            </button>

            <button class="btn btn-outline-danger btn-sm d-flex align-items-center gap-2"
                    type="button" id="btn-clear-board">
                <i class="bi bi-trash">Clear Board</i>
            </button>

        </div>
    </div>
</div>
</body>
<script src="~/js/site.js"></script>
<script src="~/js/CreateCard.js"></script>
<script src="~/js/UpdateCard.js"></script>
<script src="~/js/DeleteCard.js"></script>
<script src="~/js/DeleteSwimlane.js"></script>
<script src="~/js/UpdateSwimlaneTitle.js"></script>
<script src="~/js/cardDragDrop.js" type="module"></script>
<script src="~/js/SwimlaneDragDrop.js" type="module"></script>
<script src="~/js/markdown.js"></script>
<script>
    document.getElementById("btn-open-tag-panel").addEventListener("click", () => {
        const panel = document.getElementById("tags-panel");
        panel.hidden = panel.hidden !== true;
    });
</script>
</html>